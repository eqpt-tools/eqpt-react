(global.webpackChunk_N_E=global.webpackChunk_N_E||[]).push([[345],{6686:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return l(1943)}])},2576:(e,t,l)=>{"use strict";l.d(t,{Z:()=>a});var s=l(4512),r=l(2735),i=l(45);function a(e){let{name:t,className:l,size:r,placeholder:a,copyable:c,readOnly:n,...d}=e;return(0,s.jsx)("input",{name:t,id:t,placeholder:a,type:"text",onFocus:c?e=>e.target.select():void 0,readOnly:n||c,autoComplete:"off",spellCheck:"false",autoCorrect:"off",className:(0,i.Z)("bg-transparent text-white text-base border-2 border-gray-800 focus:ring ring-indigo-500 ring-opacity-30 focus:outline-none transition focus-within:z-10 py-1 px-3","placeholder-gray-500 placeholder-text-base",l,{"h-8 text-sm":"xs"===r,"h-9 text-sm":"sm"===r,"h-10 text-sm":"md"===r,"h-11":"lg"===r,"h-12":"xl"===r},{"rounded-md":!(null==l?void 0:l.includes("rounded"))},{"w-full":!(null==l?void 0:l.includes("w-"))}),...d})}},981:(e,t,l)=>{"use strict";l.d(t,{Z:()=>h});var s=l(4512),r=l(2735),i=l(2602),a=l(8817),c=l(45),n=l(8400);function d(e){let{checked:t,setChecked:l}=e;return(0,s.jsx)("input",{type:"checkbox",checked:t,onChange:l})}var o=l(8096);function u(e){let{table:t}=e;return(0,s.jsx)(d,{checked:t.getIsAllRowsSelected(),setChecked:t.getToggleAllRowsSelectedHandler()})}function x(e){let{row:t}=e;return(0,s.jsx)(d,{checked:t.getIsSelected(),setChecked:t.getToggleSelectedHandler()})}function h(e){let{columns:t,data:l,selectable:d}=e,h=(0,o.Z)(),[m,p]=(0,r.useState)({});(0,r.useEffect)(()=>{h&&h.setSelectedRows(m)},[h,m]),d&&t.unshift({id:"select",header:u,cell:x});let f=(0,i.b7)({columns:t,data:l,getCoreRowModel:(0,a.sC)(),enableRowSelection:d,onRowSelectionChange:p,state:{rowSelection:m}});return(0,s.jsxs)("table",{className:"table-auto border-separate w-full border-spacing-y-2",children:[(0,s.jsx)("thead",{className:"bg-[#1A1B24] z-10 sticky top-0",children:f.getHeaderGroups().map(e=>(0,s.jsx)("tr",{children:e.headers.map((t,l)=>{let r=l===e.headers.length-1;return(0,s.jsx)("th",{className:(0,c.Z)("text-left py-4 px-6 border border-transparent",{"rounded-l":0===l,"rounded-r":r}),children:(0,s.jsx)(n.Z,{weight:"medium",opacity:100,children:t.isPlaceholder?null:(0,i.ie)(t.column.columnDef.header,t.getContext())})},t.id)})},e.id))}),(0,s.jsx)("tbody",{children:f.getRowModel().rows.map(e=>(0,s.jsx)("tr",{className:"bg-[#181921]",children:e.getVisibleCells().map((t,l)=>{let r=l===e.getAllCells().length-1;return(0,s.jsx)("td",{className:(0,c.Z)("py-2 px-6 border border-transparent",{"rounded-l":0===l,"rounded-r":r,"text-opacity-80 text-white font-medium":!r}),children:(0,i.ie)(t.column.columnDef.cell,t.getContext())})})},e.id))})]})}},8096:(e,t,l)=>{"use strict";l.d(t,{W:()=>r,Z:()=>i});var s=l(2735);let r=(0,s.createContext)(null);function i(){let e=(0,s.useContext)(r);return e}},8901:(e,t,l)=>{"use strict";l.d(t,{i:()=>n,o:()=>d});var s=l(4512),r=l(6620),i=l(2735),a=l(45);function c(e){let{color:t,message:l,visible:r}=e;return(0,s.jsx)("div",{className:(0,a.Z)("max-w-xs w-full border-2 border-opacity-90 bg-opacity-20 shadow-lg rounded-md px-4 py-1.5 flex select-none font-medium",{"bg-indigo-500 border-indigo-500 text-indigo-500":"success"===t,"bg-red-500 border-red-500 text-red-500":"failure"===t},{"animate-enter":r,"animate-leave":!r}),children:l})}let n=function(e){return r.Am.custom(t=>c({...t,color:"success",message:e}),{id:"success",duration:1750})},d=function(e){return r.Am.custom(t=>c({...t,color:"failure",message:e}),{id:"failure",duration:1750})}},1943:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>X});var s=l(4512),r=l(2735),i=l(140),a=l(282),c=l(4462),n=l(4377),d=l(5771),o=l(45),u=l(2576);function x(e){let{name:t,...l}=e,[,r]=(0,c.U$)(t);return(0,s.jsx)(u.Z,{name:t,className:(0,o.Z)({"!border-red-400":r.touched&&r.error}),...l})}var h=l(2013),m=l(8901);function p(e){let{name:t}=e;return(0,s.jsx)(c.Bc,{component:"div",className:"text-sm text-red-400 mt-1.5",name:t})}let f=(0,r.createContext)(null);function j(){let e=(0,r.useContext)(f);if(!e)throw Error("Variant context must be provided.");return e}let g={url:""},b=a.Ry().shape({url:a.Z_().url("Please enter a valid URL.").required("Please enter a product URL.")});function v(){let e=(0,n.NL)(),{setProduct:t}=j(),{mutateAsync:l,isLoading:i}=(0,n.h3)({onSuccess:l=>{t(l.addProduct),(0,m.i)("Success. Saved ".concat(l.addProduct.title)),e.invalidateQueries(["FetchProducts"])},onError:()=>{(0,m.o)("Error fetching variant.")}}),a=(0,r.useCallback)(e=>l(e),[l]);return(0,s.jsx)(c.J9,{initialValues:g,validationSchema:b,onSubmit:a,children:e=>{let{isValid:t}=e;return(0,s.jsxs)(c.l0,{children:[(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)(c.gN,{as:x,name:"url",size:"md",placeholder:"Product URL"}),(0,s.jsx)(h.Z,{type:"submit",size:"md",color:"primary",icon:d.Y$,disabled:!t,loading:i,children:"Scrape"})]}),(0,s.jsx)(p,{name:"url"})]})}})}var w=l(3875),y=l.n(w),N=l(4443),C=l.n(N),Z=l(468),k=l(1072),S=l(1969),z=l.n(S),A=l(9837),R=l(8400),_=l(8096),E=l(2065);function P(e){let{title:t,subtitle:l,icon:r}=e;return(0,s.jsx)("div",{className:"w-full rounded-md border-2 border-[#2E2F3A] min-h-[12rem] flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-md flex items-center justify-center bg-gray-800 text-white",children:(0,s.jsx)(E.Z,{icon:r,size:"lg"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(R.Z,{size:"xl",weight:"medium",children:t}),(0,s.jsx)(R.Z,{opacity:70,children:l})]})]})})}function L(){let{product:e}=j(),{selectedRows:t}=(0,_.Z)(),l=(0,r.useCallback)(()=>{e&&(z()(e.variants.map(e=>e.id).join("\n")),(0,m.i)("Copied all variants to clipboard."))},[e]),i=(0,r.useCallback)(()=>{if(!e)return;let l=Object.keys(t),s=l.map(t=>e.variants[t]);z()(s.map(e=>e.id).join("\n")),(0,m.i)("Copied ".concat(s.length," variants to clipboard."))},[e,t]);return e?(0,s.jsx)("div",{className:"bg-[#1E1F29] rounded p-4 w-full",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"w-[100px] h-[100px]",children:(0,s.jsx)(y(),{src:e.image,alt:e.title,blurDataURL:"00AAw+",height:100,width:100,className:"rounded"})}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(R.Z,{uppercase:!0,tracking:"widest",weight:"semibold",opacity:60,children:e.store}),(0,s.jsx)(R.Z,{weight:"semibold",size:"xl",opacity:100,lineClamp:1,children:e.title}),(0,s.jsxs)(R.Z,{weight:"semibold",opacity:60,children:[e.variants.length," ",C()("Variant",e.variants.length)," Found"]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"space-x-3",children:[(0,s.jsx)(h.Z,{type:"button",size:"md",color:"primary",icon:Z.kZ,onClick:l,children:"Copy All"}),(0,s.jsx)(h.Z,{type:"button",size:"md",color:"primary",icon:Z.kZ,onClick:i,children:"Copy Selected"})]}),(0,s.jsx)("div",{className:"flex space-x-3",children:(0,s.jsx)(h.Z,{type:"button",size:"md",color:"secondary",icon:k.XC,children:"Send"})})]})]})}):(0,s.jsx)(P,{title:"No product",subtitle:"Scrape or load a saved product to get started.",icon:A.X5})}function V(e){let{product:t}=e,{setProduct:l}=j(),i=(0,r.useCallback)(()=>{l(t)},[l,t]);return(0,s.jsxs)("div",{className:"flex-col bg-[#262732] rounded p-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("div",{className:"w-[60px] h-[60px]",children:(0,s.jsx)(y(),{src:t.image,alt:t.title,blurDataURL:"00AAw+",height:60,width:60,className:"rounded"})})}),(0,s.jsxs)("div",{className:"flex flex-col space-y-0",children:[(0,s.jsx)(R.Z,{uppercase:!0,tracking:"widest",weight:"semibold",opacity:60,children:t.store}),(0,s.jsx)(R.Z,{weight:"semibold",size:"md",opacity:100,lineClamp:1,children:t.title}),(0,s.jsxs)(R.Z,{weight:"semibold",size:"sm",opacity:60,children:[t.variants.length," ",C()("Variant",t.variants.length)]})]})]}),(0,s.jsxs)("div",{className:"space-x-3 flex justify-end",children:[(0,s.jsx)(h.Z,{type:"button",size:"sm",color:"primary",onClick:i,children:"Load"}),(0,s.jsx)(h.Z,{type:"button",size:"sm",color:"warning",children:"Delete"})]})]})}function F(){let{data:e}=(0,n.LZ)(),t=(0,r.useMemo)(()=>(null==e?void 0:e.products)||[],[e]);return(0,s.jsx)("div",{className:"bg-[#1E1F29] h-[calc(100vh-140px)] rounded p-4 w-full overflow-auto space-y-4",children:t.map(e=>(0,s.jsx)(V,{product:e},e.id))})}var U=l(8817),D=l(981);function M(e){let{getValue:t}=e;return(0,s.jsx)(R.Z,{className:t()?"text-white":"!text-red-400",weight:"medium",opacity:80,children:t()||"N/A"})}function O(){let{product:e}=j(),t=(0,U.Cl)(),l=[t.accessor("title",{cell:e=>e.getValue(),header:"Size"}),t.accessor("id",{cell:e=>e.getValue(),header:"Variant"}),t.accessor("stock",{cell:M,header:"Stock"})];return e?(0,s.jsx)("div",{className:"h-[calc(100vh-410px)] overflow-auto",children:(0,s.jsx)(D.Z,{data:e.variants,columns:l,selectable:!0})}):null}function T(){let[e,t]=(0,r.useState)({}),l=(0,r.useMemo)(()=>({selectedRows:e,setSelectedRows:t}),[e]);return l}function X(){let e=T(),[t,l]=(0,r.useState)(null),a=(0,r.useMemo)(()=>({product:t,setProduct:l}),[t]);return(0,s.jsx)(i.Z,{title:"Products",children:(0,s.jsx)(_.W.Provider,{value:e,children:(0,s.jsx)(f.Provider,{value:a,children:(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-x-6 w-full mt-5",children:[(0,s.jsxs)("div",{className:"col-start-1 col-end-8 space-y-6",children:[(0,s.jsx)(v,{}),(0,s.jsx)(L,{}),(0,s.jsx)(O,{})]}),(0,s.jsx)("div",{className:"col-start-8 col-end-13 flex space-x-3 h-full",children:(0,s.jsx)(F,{})})]})})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[886,727,875,218,367,375,602,20,140,774,888,179],()=>t(6686)),_N_E=e.O()}]);